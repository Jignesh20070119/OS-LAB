#include <stdio.h>
#include <string.h>

#define MAX_BLOCKS 50

int disk[MAX_BLOCKS];

int main() {
    int files, start, len;
    memset(disk, 0, sizeof(disk));

    printf("Enter number of files: ");
    scanf("%d", &files);

    for (int i = 0; i < files; i++) {
        printf("\nEnter starting block and length of file %d: ", i + 1);
        scanf("%d %d", &start, &len);

        int ok = 1;
        for (int j = start; j < start + len; j++) {
            if (disk[j] == 1) { ok = 0; break; }
        }
        if (ok) {
            for (int j = start; j < start + len; j++) disk[j] = 1;
            printf("File %d allocated blocks %d to %d\n", i + 1, start, start + len - 1);
        } else {
            printf("File %d cannot be allocated (space not free)\n", i + 1);
        }
    }

    printf("\nDisk status (1 = allocated, 0 = free):\n");
    for (int i = 0; i < MAX_BLOCKS; i++) {
        printf("%d ", disk[i]);
        if ((i + 1) % 10 == 0) printf("\n");
    }
    return 0;
}
